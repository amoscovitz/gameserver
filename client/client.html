<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript" src="sprite.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript" src="command.js"></script>
<script type="text/javascript" src="queue.js"></script>
<style media="screen" type="text/css">
canvas {
   -webkit-tap-highlight-color: rgba(0,0,0,0);
}
</style>
</head>
<body onload="init()">
<div id="title">
<b>This is Arnaud Moscovitz client/server sample project</b><br>
I did a simple server game oriented in C++ based on the book "Coding complete 4th edition". That includes Non blocking I/O, a game event manager and an actor manager. I have added the HTTP communication and some design patterns just for showing<br>
As a client I wanted to try the basics for a game in HTML5 (PC and mobile). So here it is. Based on the website of <a href="http://jlongster.com/Making-Sprite-based-Games-with-Canvas">jlongster</a><br>
There is plenty of programming improvements to make either on client or server that I am aware of. 
But as you know, you have to deliver something at a time. That is why I insist on the word :<i>"sample"</i>. Or POC...<br>
Few things in my mind:<br>
-Client: Make it with Unity!<br> 
         I am thinking about a light multiplayer approach<br>
		 Make a DOD version of the client for practice (No more entities)<br>
		 Lag compensation testing<br>
-Server: Multiplayer mode<br>
         Working with lag compensation programming technics<br>
<p>
Add timeout parameter in url to change ajax request timeout i.e : <i>client.html?timeout=5000</i> for 5secs<br>
Browser console is used for messages output<br>
</p>
</div>
<div id="archi">
<p>
<b>Actual architecture:</b><br>
(Musimos.com)HTML5 Ajax with jquery HTTPRequest when click ====> (Personal computer) HttpRequest C++ server <br>
 move Blue guy with x,y <==== HttpResponse random x,y <br>
 Client/server source code available here : <a href='https://github.com/amoscovitz/samplegameserver'>GitHub</a>
</p>
</div>
<div id="game">
<table>
	<tr>
		<td id="game1"></td>
		<td id="game2" align="center" width="100%">
			<a href="clientscroll.html"  target="_blank">
		     <img src='scroll.PNG'>
			 </a><br>
			 <b>Infinite scrolling. Click to open</b>
		</td>
	</tr>
</table>
</div>
<div id="note">
<p>
Server is hosted on my personal computer and may be down at any time. Client simulates x,y then.
</p>
</div>
<div id="unity">
<p>
<b>Here is some advancement with the Unity part</b>
</p>
<p>
I have started a shadow character that moves to a flag on the map that will be the next position from the HTML5 client.<br>
Next step is to update the flag position from the position saved by the game server.
The c++ server will store the last position sent from the HTML5 game client for a given socket that includes the IP (Map data structure).
I am using the HTTP Api of Unity to communicate with the server.
</p>
<p>
<img src='unity.JPG'/>
</p>
</div>
 </body>
<script type="text/javascript" src="game_replay.js"></script>
</html>